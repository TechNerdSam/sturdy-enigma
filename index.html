<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recette V√©g√© du Jour ü•¶</title>
    <!-- Chargement de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Polices "2025" : Lora (Serif) pour les titres, Nunito Sans (Sans) pour le corps -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@600;700&family=Nunito+Sans:wght@400;600&display=swap" rel="stylesheet">

    <style>
        /* D√©finition des polices personnalis√©es pour Tailwind */
        body {
            /* Police par d√©faut (corps) */
            font-family: 'Nunito Sans', sans-serif;
            background-color: #FFFBF7; /* Un beige tr√®s clair et chaleureux */
        }
        
        .font-serif {
            font-family: 'Lora', serif;
        }

        /* Animations "Parallax" / "Scroll Reveal" (ici, au chargement) */
        
        /* Animation pour le texte (glisse vers le haut + fondu) */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Animation pour l'image (zoom arri√®re + fondu) */
        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(1.05);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Classe utilitaire pour appliquer l'animation */
        .animate-fadeInUp {
            /* Assure que l'√©l√©ment reste visible apr√®s l'animation */
            animation: fadeInUp 0.7s ease-out forwards;
            /* Propri√©t√© pour la performance */
            will-change: transform, opacity;
            /* Commence invisible */
            opacity: 0; 
        }

        .animate-scaleIn {
            animation: scaleIn 0.9s cubic-bezier(0.25, 1, 0.5, 1) forwards;
            will-change: transform, opacity;
            opacity: 0;
        }
    </style>
</head>
<body class="text-gray-800 antialiased">

    <!-- Grille principale asym√©trique pour un look moderne -->
    <!-- Sur mobile: une seule colonne. Sur bureau: 5 colonnes (2 pour le header, 3 pour la recette) -->
    <div class="container mx-auto max-w-7xl p-4 py-8 md:py-16 md:grid md:grid-cols-5 md:gap-12 lg:gap-16">

        <!-- PARTIE GAUCHE (Sticky) -->
        <!-- Devient une colonne lat√©rale collante sur les grands √©crans -->
        <header class="md:col-span-2 md:sticky md:top-8 md:h-screen">
            <!-- Titre principal avec l'ic√¥ne SVG pour un look plus net -->
            <div class="animate-fadeInUp" style="animation-delay: 100ms;">
                <h1 class="font-serif text-5xl md:text-6xl font-bold text-green-900">
                    <span class="flex items-center gap-3">
                        <!-- Ic√¥ne de feuille simple (plus √©l√©gant que l'emoji) -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z" clip-rule="evenodd" />
                            <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM9 9a1 1 0 012 0v6a1 1 0 11-2 0V9z" />
                        </svg>
                        Recette
                    </span>
                    V√©g√© du Jour
                </h1>
                <p class="mt-4 text-lg text-gray-600">
                    Une nouvelle id√©e simple et d√©licieuse, juste pour vous.
                </p>
            </div>
        </header>

        <!-- PARTIE DROITE (Contenu) -->
        <!-- La recette appara√Æt ici et est scrollable sur bureau -->
        <main class="md:col-span-3 mt-12 md:mt-0">
            
            <!-- Conteneur pour la recette (initialement cach√©, r√©v√©l√© par JS) -->
            <div id="recipe-content" class="opacity-0 space-y-8">
                
                <!-- Titre de la recette -->
                <h2 id="recipe-title-el" class="font-serif text-4xl md:text-5xl font-bold text-gray-900 animate-fadeInUp" style="animation-delay: 500ms;">
                    Chargement...
                </h2>

                <!-- Section Ingr√©dients -->
                <section class="animate-fadeInUp" style="animation-delay: 600ms;">
                    <h3 class="font-serif text-3xl font-semibold text-green-800 border-b-2 border-green-100 pb-3 mb-4">
                        Ingr√©dients
                    </h3>
                    <ul id="recipe-ingredients-list" class="list-none space-y-3">
                        <!-- Les <li> seront anim√©s et ajout√©s par JS -->
                    </ul>
                </section>

                <!-- Section Instructions -->
                <section class="animate-fadeInUp" style="animation-delay: 700ms;">
                    <h3 class="font-serif text-3xl font-semibold text-green-800 border-b-2 border-green-100 pb-3 mb-4">
                        Instructions
                    </h3>
                    <ol id="recipe-instructions-list" class="list-none space-y-4">
                        <!-- Les <li> seront anim√©s et ajout√©s par JS -->
                    </ol>
                </section>
            </div>

            <!-- Message d'erreur (cach√© par d√©faut) -->
            <div id="error-message" class="hidden text-center text-red-600 bg-red-100 p-6 rounded-lg">
                Impossible de charger la recette pour le moment.
            </div>
        </main>
    </div>


    <!-- 
      BLOC DE DONN√âES DE LA RECETTE (MODIFI√â)
      Ceci est maintenant une LISTE de recettes (un Array)
    -->
    <script>
    // RECIPE_DATA_START
    // Une liste de recettes qui tournera toutes les 5 minutes
    const allRecipes = [
      {
        "titre": "Salade de Pois Chiches Arc-en-ciel",
        "ingredients": [
          "1 bo√Æte de pois chiches, rinc√©s",
          "1/2 concombre, en d√©s",
          "1 poivron rouge, en d√©s",
          "1 poivron jaune, en d√©s",
          "1/4 oignon rouge, hach√© fin",
          "Jus de 1 citron",
          "3 cuill√®res √† soupe d'huile d'olive",
          "Persil frais, hach√©"
        ],
        "instructions": [
          "Dans un grand bol, combinez les pois chiches, le concombre, les poivrons et l'oignon rouge.",
          "Dans un petit bol, fouetter le jus de citron, l'huile d'olive, le sel et le poivre.",
          "Versez la vinaigrette sur la salade et m√©langez bien.",
          "Incorporez le persil frais juste avant de servir.",
          "Laissez reposer 10 minutes pour que les saveurs se m√©langent."
        ]
      },
      {
        "titre": "Tacos Rapides aux Haricots Noirs",
        "ingredients": [
          "1 bo√Æte de haricots noirs, rinc√©s",
          "1 cuill√®re √† caf√© de cumin",
          "1/2 cuill√®re √† caf√© de poudre de chili",
          "4-6 tortillas de ma√Øs",
          "Garnitures : avocat, coriandre, salsa, citron vert"
        ],
        "instructions": [
          "√âcrasez l√©g√®rement les haricots noirs dans une petite casserole avec le cumin et la poudre de chili.",
          "Chauffez √† feu moyen jusqu'√† ce que ce soit chaud.",
          "R√©chauffez les tortillas dans une po√™le s√®che ou au micro-ondes.",
          "Garnissez les tortillas avec le m√©lange de haricots et vos garnitures pr√©f√©r√©es."
        ]
      },
      {
        "titre": "P√¢tes √† l'Ail, Huile d'Olive et Brocoli",
        "ingredients": [
          "200g de spaghettis",
          "1 t√™te de brocoli, coup√©e en fleurettes",
          "4 gousses d'ail, √©minc√©es",
          "1/4 tasse d'huile d'olive",
          "Flocons de piment rouge (optionnel)",
          "Sel et poivre"
        ],
        "instructions": [
          "Cuire les p√¢tes selon les instructions. Ajouter le brocoli pendant les 3-4 derni√®res minutes de cuisson.",
          "Pendant ce temps, chauffer l'huile d'olive dans une grande po√™le √† feu moyen.",
          "Ajouter l'ail et les flocons de piment, cuire 1-2 minutes jusqu'√† ce que l'ail soit parfum√© (ne pas le br√ªler).",
          "√âgoutter les p√¢tes et le brocoli (r√©server un peu d'eau de cuisson).",
          "Ajouter les p√¢tes, le brocoli et un peu d'eau de cuisson √† la po√™le avec l'ail. Bien m√©langer.",
          "Assaisonner avec du sel et du poivre. Servir imm√©diatement."
        ]
      },
      {
        "titre": "Curry de Lentilles Corail Express",
        "ingredients": [
          "1 tasse de lentilles corail, rinc√©es",
          "1 oignon, hach√©",
          "2 gousses d'ail, hach√©es",
          "1 bo√Æte de lait de coco (400ml)",
          "1 bo√Æte de tomates concass√©es (400g)",
          "1 cuill√®re √† soupe de p√¢te de curry (rouge ou jaune)",
          "1 cuill√®re √† caf√© de curcuma",
          "2 tasses de bouillon de l√©gumes"
        ],
        "instructions": [
          "Dans une grande casserole, faire revenir l'oignon et l'ail dans un peu d'huile.",
          "Ajouter la p√¢te de curry et le curcuma, cuire 1 minute.",
          "Ajouter les lentilles rinc√©es, le lait de coco, les tomates concass√©es et le bouillon.",
          "Porter √† √©bullition, puis r√©duire le feu et laisser mijoter 15-20 minutes.",
          "Saler et poivrer au go√ªt. Servir avec du riz."
        ]
      }
    ];
    // RECIPE_DATA_END
    </script>
    <!-- FIN DU BLOC DE DONN√âES -->

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // S√©lecteurs pour les √©l√©ments de la recette
            const recipeContentEl = document.getElementById('recipe-content');
            const titleEl = document.getElementById('recipe-title-el');
            const ingredientsEl = document.getElementById('recipe-ingredients-list');
            const instructionsEl = document.getElementById('recipe-instructions-list');
            const errorEl = document.getElementById('error-message');

            // === NOUVELLE LOGIQUE POUR CHOISIR LA RECETTE ===
            let recipeData; // La recette que nous allons afficher

            try {
                if (typeof allRecipes === 'undefined' || allRecipes.length === 0) {
                    throw new Error("La liste 'allRecipes' est vide ou non d√©finie.");
                }
                
                const now = new Date();
                const minutes = now.getMinutes();
                
                // Calcule un index bas√© sur des tranches de 5 minutes
                // (0-4min -> 0, 5-9min -> 1, ... 55-59min -> 11)
                const intervalIndex = Math.floor(minutes / 5); 
                
                // Utilise le modulo (%) pour "boucler" dans la liste
                // si on n'a pas 12 recettes.
                const recipeIndex = intervalIndex % allRecipes.length;

                // Assigne la recette du moment
                recipeData = allRecipes[recipeIndex];

            } catch (error) {
                // G√®re le cas o√π les donn√©es sont absentes
                console.error(error.message);
                recipeContentEl.classList.add('hidden');
                errorEl.classList.remove('hidden');
                return; // Arr√™ter l'ex√©cution
            }
            // === FIN DE LA NOUVELLE LOGIQUE ===


            // Fonction pour charger la recette
            // Elle utilise la variable 'recipeData' d√©finie ci-dessus
            function loadRecipe() {
                try {
                    if (typeof recipeData === 'undefined' || !recipeData.titre) {
                        throw new Error("Les donn√©es de la recette sont manquantes.");
                    }

                    // Remplir le titre
                    titleEl.textContent = recipeData.titre;
                    
                    // Vider les listes (au cas o√π il y aurait un fallback)
                    ingredientsEl.innerHTML = '';
                    instructionsEl.innerHTML = '';

                    // Ajouter les ingr√©dients avec le nouveau style
                    recipeData.ingredients.forEach((ingredient, index) => {
                        const li = document.createElement('li');
                        // Ajout d'une case √† cocher stylis√©e
                        li.innerHTML = `
                            <label class="flex items-center text-lg text-gray-700 cursor-pointer">
                                <input type="checkbox" class="form-checkbox h-5 w-5 text-green-600 rounded-md border-gray-300 focus:ring-green-500 mr-4">
                                <span>${ingredient}</span>
                            </label>
                        `;
                        // Appliquer l'animation en d√©cal√© (stagger)
                        li.classList.add('animate-fadeInUp');
                        li.style.animationDelay = `${700 + index * 100}ms`; // D√©calage
                        ingredientsEl.appendChild(li);
                    });

                    // Ajouter les instructions avec le nouveau style
                    recipeData.instructions.forEach((step, index) => {
                        const li = document.createElement('li');
                        // Num√©rotation stylis√©e
                        li.innerHTML = `
                            <div class="flex items-start">
                                <span class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-green-800 text-white font-serif font-bold text-lg mr-4">
                                    ${index + 1}
                                </span>
                                <span class="text-lg text-gray-700">${step}</span>
                            </div>
                        `;
                        // Appliquer l'animation en d√©cal√©
                        li.classList.add('animate-fadeInUp');
                        li.style.animationDelay = `${900 + index * 150}ms`; // D√©calage plus long
                        instructionsEl.appendChild(li);
                    });

                    // R√©v√©ler le conteneur principal de la recette
                    recipeContentEl.style.opacity = '1';

                } catch (error) {
                    console.error('Erreur lors du chargement de la recette:', error);
                    recipeContentEl.classList.add('hidden');
                    errorEl.classList.remove('hidden');
                }
            }

            // Lancer le chargement
            loadRecipe();
        });
    </script>
</body>
</html>
